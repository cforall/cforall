#include <select.hfa>
#include <channel.hfa>

channel(long long int) A{1}, B{1};

int main( int argc, char * argv[] ) {
    printf("START\n");
    long long int a, b, c, i = 0, myTotal = 0;
    insert( A, 23 );
    insert( B, 4 );
    for( ;;i++ ) {
        waituntil( a << A ) {  myTotal += a; }
        and waituntil( b << B ) { printf("BREAK\n"); break; }
        printf("IF THIS PRINTS THE BREAK ABOVE DOESN'T WORK PROPERLY\n");
    }
    printf("DONE\n");
}
